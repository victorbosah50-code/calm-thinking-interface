<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸŒ¿ Your Calm Thinking Journey ðŸŒ¿</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body, html {
    margin: 0; padding: 0;
    height: 100%; width: 100%;
    font-family: 'Nunito', sans-serif;
    overflow: hidden;
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  #bgVideo {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    object-fit: cover;
    z-index: -2;
    opacity: 0.65;
  }
  .container {
    position: relative;
    z-index: 1;
    max-width: 720px;
    width: 92%;
    background: rgba(255,255,255,0.93);
    padding: 40px;
    border-radius: 24px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.25);
    text-align: center;
    min-height: 520px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 1.2s ease-out, transform 1.2s ease-out;
  }
  .container.visible {
    opacity: 1;
    transform: translateY(0);
  }
  h1 {
    font-size: 2.4rem;
    color: #2c5282;
    margin-bottom: 20px;
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 1s ease 0.3s, transform 1s ease 0.3s;
  }
  .container.visible h1 {
    opacity: 1;
    transform: translateY(0);
  }
  p {
    font-size: 1.2rem;
    line-height: 1.8;
    color: #333;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
  }
  .container.visible p {
    opacity: 1;
    transform: translateY(0);
  }
  .personal-feedback {
    margin: 30px 0;
    padding: 20px;
    background: rgba(74,144,226,0.12);
    border-radius: 16px;
    font-style: italic;
    color: #2c5282;
    font-size: 1.15rem;
    opacity: 0;
    transform: scale(0.95);
    transition: opacity 1s ease, transform 1s ease;
  }
  .personal-feedback.visible {
    opacity: 1;
    transform: scale(1);
  }
  textarea {
    width: 100%;
    max-width: 620px;
    height: 140px;
    padding: 16px;
    margin: 20px 0;
    border: 2px solid #a0d8ef;
    border-radius: 14px;
    font-size: 1.15rem;
    font-family: 'Nunito', sans-serif;
    background: #f8fdff;
    resize: vertical;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease 0.7s, transform 1s ease 0.7s;
  }
  .container.visible textarea {
    opacity: 1;
    transform: translateY(0);
  }
  button {
    padding: 14px 32px;
    font-size: 1.15rem;
    margin: 12px;
    border: none;
    border-radius: 14px;
    background: #4a90e2;
    color: white;
    cursor: pointer;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s ease;
  }
  button.visible {
    opacity: 1;
    transform: translateY(0);
  }
  button:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 30px rgba(74,144,226,0.45);
  }
  .game-area {
    margin: 40px 0;
    padding: 35px;
    background: rgba(255,255,255,0.96);
    border-radius: 22px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 1.4s ease 0.2s, transform 1.4s ease 0.2s;
  }
  .game-area.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .game-title {
    font-size: 1.9rem;
    color: #6b46c1;
    margin-bottom: 20px;
    opacity: 0;
    transform: translateY(-15px);
    transition: opacity 1s ease 0.4s, transform 1s ease 0.4s;
  }
  .game-area.visible .game-title {
    opacity: 1;
    transform: translateY(0);
  }
  .breath-instruction {
    margin: 25px 0;
    font-size: 1.4rem;
    color: #2c5282;
    min-height: 50px;
    opacity: 0;
    transition: opacity 1s ease 0.6s;
  }
  .game-area.visible .breath-instruction {
    opacity: 1;
  }
  .breathing-circle {
    width: 220px;
    height: 220px;
    background: radial-gradient(circle, #a8edea, #89dceb);
    border-radius: 50%;
    margin: 35px auto;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.9rem;
    font-weight: 600;
    box-shadow: 0 15px 40px rgba(137,220,235,0.35);
    /* Ultra-smooth breathing animation */
    transition: transform 5s cubic-bezier(0.4, 0.0, 0.2, 1), 
                background 5s ease;
    cursor: pointer;
    user-select: none;
  }
  .breathing-circle.expanding {
    transform: scale(1.8);
    background: radial-gradient(circle, #fed6e3, #fcb7d2);
    box-shadow: 0 20px 50px rgba(252,183,210,0.5);
  }
  .summary {
    text-align: left;
    background: rgba(255,255,255,0.98);
    padding: 40px;
    border-radius: 24px;
    font-size: 1.2rem;
    line-height: 2.1;
    white-space: pre-wrap;
    box-shadow: 0 10px 35px rgba(0,0,0,0.15);
    opacity: 0;
    transform: translateY(40px);
    transition: opacity 1.8s ease, transform 1.8s ease;
  }
  .summary.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .footer {
    font-size: 0.9rem;
    color: #666;
    margin-top: 40px;
    opacity: 0;
    transition: opacity 1.5s ease 1s;
  }
  .container.visible .footer {
    opacity: 1;
  }
</style>
</head>
<body>

<video autoplay muted loop id="bgVideo">
  <source src="https://cdn.coverr.co/videos/coverr-serene-forest-stream-1569/1080p.mp4" type="video/mp4">
</video>

<div class="container" id="mainContainer">
  <h1>ðŸŒ¿ Your Calm Thinking Journey ðŸŒ¿</h1>
  <p>
    Breathe in deeplyâ€¦ and let it go.<br><br>
    This is your safe space to untangle thoughts, find clarity, and feel lighter.<br>
    Weâ€™ll reflect together, breathe mindfully, and celebrate you every step of the way.
  </p>
  <button id="startBtn">Begin My Journey</button>
  <div class="footer">No data is saved or tracked â€” this moment is just for you.</div>
</div>

<script>
let currentStep = 0;
const responses = [];

const steps = [
  { type: "reflect", title: "What's on Your Mind?", question: "Right now, whatâ€™s taking up space in your thoughts? Big or small â€” share whatever feels true." },
  { type: "reflect", title: "The Facts", question: "What do you know for sure about this situation? Stick to the clear, undeniable truths." },
  { type: "reflect", title: "Assumptions", question: "What assumptions might you be holding onto? Gently name them â€” no judgment here." },
  { type: "reflect", title: "Your Circle of Control", question: "What parts of this can you actually influence or change? Focus on your power." },
  { type: "reflect", title: "The Gift of Time", question: "If you waited 24 hours, what might feel different? What new perspective could emerge?" },
  { type: "reflect", title: "One Gentle Step", question: "Whatâ€™s one small, kind action you could take next? Even tiny steps move mountains." },
  { type: "mood", title: "How Are You Feeling Now?" },
  { type: "conclusion", title: "Your Journey Complete" }
];

const feedbackTemplates = [
  "Thank you for sharing that so openly. Just putting it into words already creates space and lightness â€” youâ€™re doing beautifully.",
  "Seeing the facts clearly like this takes real strength. Youâ€™re grounding yourself with courage and wisdom.",
  "Naming assumptions is one of the bravest things we can do. Youâ€™re freeing your mind â€” keep going, youâ€™ve got this!",
  "Focusing on what you can control is pure empowerment. Youâ€™re stepping into your true strength right now.",
  "Beautiful perspective. Time really is a gentle healer, and trusting it shows how wise and patient you are.",
  "That small step sounds perfect. Every big change starts exactly like this â€” youâ€™re moving forward with grace."
];

const gameTitles = [
  "ðŸŒ¼ Breathe & Bloom",
  "ðŸƒ Gentle Waves",
  "âœ¨ Light Within",
  "ðŸ•Šï¸ Peaceful Flow",
  "ðŸŒ… Dawn Breath",
  "ðŸŒ± Rooted & Calm"
];

function startJourney() {
  const container = document.getElementById("mainContainer");
  container.classList.add("visible");
  setTimeout(() => {
    document.getElementById("startBtn").classList.add("visible");
  }, 300);
}

function advanceStep() {
  if (currentStep >= steps.length) return;

  const container = document.getElementById("mainContainer");
  container.innerHTML = `
    <h1>${steps[currentStep].title}</h1>
    <div class="footer">No data is saved or tracked â€” this moment is just for you.</div>
  `;
  container.classList.remove("visible");
  setTimeout(() => container.classList.add("visible"), 100);

  if (steps[currentStep].type === "reflect") {
    const question = document.createElement("p");
    question.innerHTML = steps[currentStep].question;
    container.appendChild(question);

    const textarea = document.createElement("textarea");
    textarea.placeholder = "Share your thoughts hereâ€¦";
    container.appendChild(textarea);

    const nextBtn = document.createElement("button");
    nextBtn.textContent = "Continue";
    nextBtn.onclick = () => handleReflection(textarea.value.trim());
    container.appendChild(nextBtn);

    setTimeout(() => {
      textarea.classList.add("visible");
      nextBtn.classList.add("visible");
    }, 600);

  } else if (steps[currentStep].type === "mood") {
    const moodP = document.createElement("p");
    moodP.textContent = "Before we wrap up, how are you feeling right now?";
    container.appendChild(moodP);

    const moods = ["Calm ðŸŒŠ", "Thoughtful ðŸŒ™", "Lighter âœ¨", "Hopeful ðŸŒŸ", "Still Processing ðŸŒ«ï¸"];
    moods.forEach(mood => {
      const btn = document.createElement("button");
      btn.textContent = mood;
      btn.onclick = () => {
        responses.push({ step: "Final Mood", input: mood });
        currentStep++;
        advanceStep();
      };
      container.appendChild(btn);
      setTimeout(() => btn.classList.add("visible"), 600 + moods.indexOf(mood) * 100);
    });

  } else if (steps[currentStep].type === "conclusion") {
    showConclusion();
  }
}

function handleReflection(userInput) {
  if (!userInput) {
    alert("Itâ€™s okay to share just a little â€” even one word helps. ðŸ’™");
    return;
  }

  responses.push({ step: steps[currentStep].title, input: userInput });

  const container = document.getElementById("mainContainer");
  const feedback = document.createElement("div");
  feedback.className = "personal-feedback";
  feedback.textContent = feedbackTemplates[currentStep];
  container.appendChild(feedback);

  setTimeout(() => feedback.classList.add("visible"), 200);
  setTimeout(() => launchBreathingGame(), 1600);
}

function launchBreathingGame() {
  const container = document.getElementById("mainContainer");
  const gameArea = document.createElement("div");
  gameArea.className = "game-area";

  gameArea.innerHTML = `
    <div class="game-title">ðŸŽ® ${gameTitles[currentStep]}</div>
    <p class="breath-instruction">Click the circle and breathe with it...<br>Let everything soften.</p>
    <div class="breathing-circle" id="breathCircle">Breathe In</div>
    <button style="background:#6b46c1; margin-top: 35px;" id="continueBtn">I feel calmer â€” Continue</button>
  `;

  container.appendChild(gameArea);
  setTimeout(() => gameArea.classList.add("visible"), 200);

  const circle = document.getElementById("breathCircle");
  const instruction = document.querySelector(".breath-instruction");
  const continueBtn = document.getElementById("continueBtn");

  let isBreathing = false;

  function startBreathingCycle() {
    if (isBreathing) return;
    isBreathing = true;

    instruction.textContent = "Breathe in gently...";
    circle.textContent = "Inhale";
    circle.classList.add("expanding");

    setTimeout(() => {
      instruction.textContent = "Hold softly...";
      circle.textContent = "Hold";
    }, 5000);

    setTimeout(() => {
      instruction.textContent = "Breathe out slowly...";
      circle.textContent = "Exhale";
      circle.classList.remove("expanding");
    }, 9000);

    setTimeout(() => {
      instruction.textContent = "Click anytime to breathe again<br>or continue when ready";
      circle.textContent = "Breathe In";
      isBreathing = false;
    }, 14000);
  }

  circle.addEventListener("click", startBreathingCycle);
  continueBtn.addEventListener("click", () => {
    currentStep++;
    advanceStep();
  });

  // Gentle auto-start
  setTimeout(startBreathingCycle, 1000);
}

function showConclusion() {
  const container = document.getElementById("mainContainer");
  let summaryText = "ðŸŒŸ Congratulations â€” Youâ€™ve Completed Your Journey! ðŸŒŸ\n\n";

  responses.forEach(r => {
    summaryText += `âœ¨ ${r.step}\n${r.input}\n\n`;
  });

  summaryText += "Look at what you just did:\n";
  summaryText += "You gave yourself time. You reflected with honesty and kindness.\n";
  summaryText += "You breathed deeply, mindfully â€” letting calm flow through you.\n\n";
  summaryText += "This quiet strength youâ€™ve shown? Itâ€™s profound.\n";
  summaryText += "You are resilient, worthy, and capable of deep peace â€” exactly as you are.\n\n";
  summaryText += "Iâ€™m so truly proud of you.\n";
  summaryText += "Come back anytime. This space is always here for you. ðŸŒ¿ðŸ’–âœ¨";

  container.innerHTML = `<div class="summary">${summaryText}</div>`;
  setTimeout(() => {
    document.querySelector(".summary").classList.add("visible");
  }, 300);
}

document.getElementById("startBtn").onclick = () => {
  startJourney();
  setTimeout(advanceStep, 1200);
};
</script>

</body>
</html>
